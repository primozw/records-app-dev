
import React from 'react';
import { Link } from "@reach/router"

import { makeStyles } from '@material-ui/core/styles';
import { useTheme } from '@material-ui/core/styles';

import { useSelector } from 'react-redux';
import { selectDarkMode } from "./../../app/reducers/modelReducer";

import {
  selectColors
} from './../../app/reducers/modelReducer';




const useStyles = makeStyles(theme => ({
  logo: {
    width: 'auto',
    height: theme.spacing(2.5),
    marginRight: 'auto',
    [`${theme.breakpoints.up('md')} and (orientation: landscape)`]: {
      //height: theme.spacing(3),
    },
    
  },
  svg: {
    height: '100%',
    width: 'auto',
    '& path': {
      fill: props => props.color
    }
  },
  text: {
    [theme.breakpoints.down("xs")]: {
      display: 'none',
    },
  }
})
);


function Logo(props) {
  const darkMode = useSelector(selectDarkMode);
  const theme = useTheme();

  const getLogoStyle = (colors) => {
    const styles = {}

    // Check if homepage
    if (props.location.pathname === '/') {
      styles.color = theme.palette.text.primary;
      styles.location = 'home';
    } else {
      if (colors) {
        styles.color = colors.main.text;
      }else {
        styles.color = theme.palette.text.primary;
      }
      styles.location = 'page'
    }
    return styles
  }

  const SVG = () => (
    <svg xmlns="http://www.w3.org/2000/svg" width="227.891" height="52.864" viewBox="0 0 227.891 52.864" className={classes.svg}>
      <g className={classes.symbol}>
          <path d="M31.416 37.079l-4.513-7.909q-.768.057-1.152.056h-3.586v7.853h-3.269V26.543h6.5l-7.042-12.3h7.074a11.847 11.847 0 0 1 4.834.923 7.468 7.468 0 0 1 3.233 2.613 6.806 6.806 0 0 1 1.153 3.928 6.955 6.955 0 0 1-1.2 4.038 7.41 7.41 0 0 1-3.313 2.641l4.961 8.693zm-7.842-20.151l5.154 9.027a4.265 4.265 0 0 0 1.921-1.621 4.655 4.655 0 0 0 .672-2.543 4.493 4.493 0 0 0-1.488-3.549 6 6 0 0 0-4.113-1.314z"/>
          <path d="M26.432 52.864a26.432 26.432 0 1 1 26.432-26.432 26.462 26.462 0 0 1-26.432 26.432zm0-48.948a22.516 22.516 0 1 0 22.516 22.516A22.542 22.542 0 0 0 26.432 3.916z"/>
      </g>
      <g className={classes.text}>
        <path d="M64.82 36.983V20.504l2.178-.527h.351l.176 3.443h.105a5.131 5.131 0 0 1 5.025-3.092 9.566 9.566 0 0 1 1.23.07v.562l-.141 2.214a7.341 7.341 0 0 0-.878-.035c-2.284 0-3.865.843-5.235 3.479v10.365z"/>
        <path d="M79.05 29.463c.211 4.287 2.706 5.376 5.762 5.376a12.238 12.238 0 0 0 5.2-1.23v2.6a14.93 14.93 0 0 1-6.184 1.194c-4.252 0-7.765-2.494-7.765-8.924 0-4.357 2.74-8.5 7.695-8.5 4.884 0 6.781 3.619 6.781 7.1a19.807 19.807 0 0 1-.141 2.389zm.07-2.389h8.327v-.457c0-2.214-1.195-4.111-3.795-4.111-2.459-.002-4.216 1.792-4.532 4.568z"/>
        <path d="M107.333 36.456a16.51 16.51 0 0 1-5.236.948c-5.973 0-8.362-3.724-8.362-8.573 0-5.446 3.268-8.854 8.854-8.854a13.831 13.831 0 0 1 4.5.773l-.211 2.705a12.759 12.759 0 0 0-4.568-.949c-3.022 0-5.622 1.582-5.622 6.009 0 4.919 2.6 6.36 5.8 6.36a13.884 13.884 0 0 0 4.849-.949z"/>
        <path d="M110.353 28.691c0-4.954 2.6-8.714 8.046-8.714s8.046 3.759 8.046 8.714-2.6 8.714-8.046 8.714-8.046-3.76-8.046-8.714zm2.952 0c0 4.181 1.967 6.184 5.095 6.184s5.095-2.038 5.095-6.184c0-4.181-1.968-6.184-5.095-6.184s-5.099 2.038-5.099 6.184z"/>
        <path d="M130.625 36.983V20.504l2.179-.527h.351l.176 3.443h.105a5.131 5.131 0 0 1 5.024-3.092 9.571 9.571 0 0 1 1.23.07v.562l-.141 2.214a7.344 7.344 0 0 0-.878-.035c-2.284 0-3.865.843-5.235 3.479v10.365z"/>
        <path d="M156.766 36.88l-2.46.527h-.351v-2.143a8.633 8.633 0 0 1-5.587 2.143c-3.619 0-6.711-2.389-6.711-7.87 0-5.376 2.811-9.557 9.03-9.557a16.012 16.012 0 0 1 3.268.422v-8.5l2.46-.527h.351zm-2.811-13.668a9.6 9.6 0 0 0-3.408-.7c-3.76 0-5.938 2.354-5.938 6.606 0 3.936 1.581 5.762 4.392 5.762a7.421 7.421 0 0 0 4.955-2.249z"/>
        <path d="M161.121 34.277h.281a22.062 22.062 0 0 0 4.568.6c2.178 0 3.759-.527 3.759-2.389 0-3.443-8.538-2.073-8.538-7.765 0-3.092 2.881-4.743 6.5-4.743a14.079 14.079 0 0 1 4.216.632v2.6h-.281a12.81 12.81 0 0 0-3.971-.7c-1.721 0-3.514.387-3.514 2.214 0 3.268 8.538 1.967 8.538 7.484 0 4.006-3.233 5.2-6.816 5.2a22.424 22.424 0 0 1-4.743-.527z"/>
        <path d="M182.359 28.504l5.2-.7v-1.44c0-3.338-1.79-4.358-4.25-4.359a13.6 13.6 0 0 0-4.673.982l-.175-1.476a17.024 17.024 0 0 1 5.1-.947c3.057 0 5.55 1.407 5.549 5.8v10.857l-1.265.245h-.246v-2.213h-.035a9.213 9.213 0 0 1-5.728 2.316 4.21 4.21 0 0 1-4.355-4.393c-.011-2.179 1.364-4.182 4.878-4.672zm-.038 7.695a9.22 9.22 0 0 0 5.236-2.282v-4.849l-5.025.736c-2.319.351-3.408 1.58-3.409 3.3a3 3 0 0 0 3.198 3.095z"/>
        <path d="M194.693 21.025l1.37-.316h.211v2.53a9.474 9.474 0 0 1 6.326-2.667c3.619 0 6.288 2.321 6.286 8.084 0 5.516-2.709 9.028-7.91 9.027a18.852 18.852 0 0 1-4.708-.81v9.311l-1.37.28h-.211zm1.575 14.406a16.282 16.282 0 0 0 4.708.845c4.392 0 6.256-3.23 6.257-7.481 0-4.462-1.578-6.782-4.916-6.783-2.109 0-4.252 1.228-6.045 2.879z"/>
        <path d="M213.699 21.035l1.37-.316h.211v2.53a9.475 9.475 0 0 1 6.325-2.668c3.619 0 6.289 2.322 6.286 8.084 0 5.516-2.709 9.029-7.909 9.027a18.866 18.866 0 0 1-4.708-.81v9.311l-1.37.28h-.211zm1.575 14.406a16.284 16.284 0 0 0 4.708.845c4.392 0 6.256-3.23 6.257-7.482 0-4.462-1.579-6.782-4.917-6.783-2.108 0-4.252 1.228-6.044 2.879z"/>
      </g>
    </svg>
  )

  const colors = useSelector(selectColors);


  const classes = useStyles(getLogoStyle(colors));
  return (
    (props.location.pathname === '/') ? 
      <div className={classes.logo}>
        <SVG />
      </div>
      : 
      <Link to="/" className={classes.logo}>
        <SVG />
      </Link>
  );
}

export default Logo;